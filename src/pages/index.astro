---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import News from '../components/News.astro';
import products from '../data/products.json';
import news from '../data/news.json';
---

<Layout>

  <div class="max-w-4xl mx-auto px-6 my-12 text-center">
    <!-- ロゴ -->
    <div class="text-center my-8">
      <img src="/images/logo.png" alt="GrizzlyGear Logo" class="mx-auto h-30" />
    </div>
    <!-- ブランド紹介 -->
    <p class="text-gray-600 leading-relaxed">
      GRIZZLY GEAR は、「獣の野性」と「機械の無骨さ」を融合させたレザークラフトブランドです。<br>
      作品には、実際の歯車を使用した装飾や、<br>熊の爪を模したパーツなど、メカニカルでありながら野性的なデザインを施しています。<br>
      <br>
      経年変化を楽しめる革を中心に使用しております。自然界に存在する色の深い緑、濃い茶、暗めの赤や青をベースに、<br>
      時を経て深みを増していく素材を選んでいます。<br>
      また、革にはあえて細かな擦り傷を加え、まるで森の中で生きてきたかのような風合いを表現し、<br>
      無骨でありながらどこか温かみのある表情を生み出しています。<br>
    </p>
  </div>

  <!-- 新着情報 -->
  <div class="max-w-4xl mx-auto px-6 my-12">
    <h2 class="text-2xl font-bold mb-6">新着情報</h2>
    <div class="space-y-4">
      {news
        .filter(item => !item.hideFlag)
        .map(item => (
          <News
            title={item.title}
            description={item.description}
            image={item.image}
            content={item.content}
            date={item.date}
          />
        ))}
    </div>
  </div>

  <!-- 商品一覧 -->
  <div class="max-w-7xl mx-auto px-6 my-12">
    <h2 class="text-2xl font-bold mb-6">商品一覧</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
      {products
        .filter(product => !product.hideFlag) // hideFlagが設定されていない、または0の商品のみを表示
        .map(product => (
          <Card
            key={product.id}
            name={product.name}
            shortDescription={product.shortDescription}
            longDescription={product.longDescription}
            mainImage={product.mainImage}
            colors={product.colors}
            slides={product.slides}
            capacity={product.capacity}
            dimensions={product.dimensions}
            newFlag={product.newFlag}
          />
        ))}
    </div>
  </div>

  <!-- SNS / 外部サービスへのリンク -->
  <div class="max-w-4xl mx-auto px-6 my-6">
    <h2 class="text-2xl font-bold mb-6">最新情報や商品の購入はこちらから</h2>
    <div class="flex items-center justify-center gap-6">
      <!-- Instagram -->
      <a href="https://www.instagram.com/grizzly_gear_leather/" target="_blank" rel="noopener noreferrer" class="inline-block">
        <img src="/images/external-service-icon/Instagram_Glyph_Black.png" alt="Instagram - GRIZZLY GEAR" class="h-20 w-auto" />
      </a>
      　　<h1 class="text-2xl font-bold mb-6">|</h1>　　
      <!-- minne（URL未設定のためプレースホルダー） -->
      <a href="https://minne.com/@grizzly-gear/profile" class="inline-block opacity-80 hover:opacity-100" aria-disabled="true" title="minneのURLは未設定です">
        <img src="/images/external-service-icon/minne_logo_vertical.png" alt="minne - 準備中" class="h-20 w-auto" />
      </a>
    </div>
  </div>

  <!-- 注意事項 -->
  <div class="max-w-4xl mx-auto px-6 my-12">
    <div class="bg-base-200 rounded-lg">
      <button 
        id="toggleNotice" 
        class="w-full px-4 py-3 flex justify-between items-center border-b border-base-300"
      >
        <div>
          <h2 class="text-2xl font-bold">商品に関する注意事項</h2>
        </div>
        <svg 
          id="toggleIcon"
          class="w-6 h-6 transition-transform duration-200" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke="currentColor"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </button>
      <div id="noticeContent" class="hidden px-4 py-4">
        <div class="pt-2">
          <ul class="space-y-3 text-gray-600 text-sm leading-relaxed">
            <li class="flex items-start">
              <span class="text-warning mr-2 text-base">※</span>
              <span>すべての商品がハンドメイドで、一つ一つ丁寧に手縫いで製作しています。そのため、製作には時間がかかることがございます。</span>
            </li>
            <li class="flex items-start">
              <span class="text-warning mr-2 text-base">※</span>
              <span>写真の色味は実物と異なって見える場合がございます。モニターの設定や環境により、実際の商品の色とは異なる場合がございますので、予めご了承ください。</span>
            </li>
            <li class="flex items-start">
              <span class="text-warning mr-2 text-base">※</span>
              <span>天然の革を使用しているため、革本来の傷や血筋などが見られる場合がございます。これらは革の持つ自然な表情としてご理解ください。</span>
            </li>
            <li class="flex items-start">
              <span class="text-warning mr-2 text-base">※</span>
              <span>革製品は使用していく過程で色が濃くなったり、艶が出てきたりと経年変化していきます。これは革本来の特性であり、使い込むほどに味わい深い表情へと変化していきます。</span>
            </li>
            <li class="flex items-start">
              <span class="text-warning mr-2 text-base">※</span>
              <span>革製品は水に弱い特性があります。水濡れにはご注意ください。万が一濡れた場合は、乾いた布で水分を拭き取り、陰干しで自然乾燥させてください。</span>
            </li>
            <li class="flex items-start">
              <span class="text-warning mr-2 text-base">※</span>
              <span>ハンドメイド製品のため、商品ごとに若干のサイズの違いや、装飾に使用するパーツ（歯車など）の配置や形状に個体差が生じる場合がございます。これらの個体差は手作りならではの特徴としてご理解ください。</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 注意事項の開閉機能
    const toggleButton = document.getElementById('toggleNotice');
    const content = document.getElementById('noticeContent');
    const icon = document.getElementById('toggleIcon');
    
    if (toggleButton && content && icon) {
      toggleButton.addEventListener('click', () => {
        content.classList.toggle('hidden');
        // アイコンを回転させる
        icon.style.transform = content.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
      });
    }
  </script>
  <br>
</Layout>
